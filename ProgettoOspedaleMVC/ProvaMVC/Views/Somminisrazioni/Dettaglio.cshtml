@model dynamic
@{
    ViewData["Title"] = "Dettaglio Somministrazioni";
}

<h2>Dettaglio Somministrazioni per @Model.Paziente.Nome @Model.Paziente.Cognome</h2>

<h4>Farmaco: @Model.Terapia.Farmaco</h4>
<h5>Orario previsto: @Model.Terapia.OrarioSomministrazione</h5>
<h5>Stato: @Model.Stato</h5>

@if (Model.Stato == "In orario")
{
    <div class="alert alert-warning">
        Mancano <strong>@Model.OreDifferenza</strong> ore alla somministrazione.
    </div>
}
else if (Model.Stato == "In ritardo")
{
    <div class="alert alert-danger">
        Sono passate <strong>@Model.OreDifferenza</strong> ore dalla somministrazione prevista.
    </div>
}
else
{
    <div class="alert alert-success">
        Terapia somministrata!
    </div>
}

<h4>Somministrazioni effettuate oggi:</h4>
@if (Model.Somministrazioni.Count == 0)
{
    <p>Nessuna somministrazione effettuata oggi.</p>
}
else
{
    <ul>
        @foreach (var som in Model.Somministrazioni)
        {
            <li>Effettuata alle ore: @som.Ora</li>
        }
    </ul>
}
