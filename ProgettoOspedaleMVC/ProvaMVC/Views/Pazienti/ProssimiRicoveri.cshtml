@model List<ProvaMVC.Models.Paziente>

@{
    ViewData["Title"] = "Pazienti da Ricoverare Oggi";
}

<h1 class="display-4">Pazienti da Ricoverare</h1>

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}

@if (Model != null && Model.Any())
{
    <table class="table table-striped table-bordered mt-4">
        <thead class="table-dark">
            <tr>
                <th>Codice Fiscale</th>
                <th>Nome</th>
                <th>Cognome</th>
                <th>Data di Nascita</th>
                <th>Data Ricovero</th>
                <th>Motivo Ricovero</th>
                <th>Modifica dati Medici</th>
                <th>Modifica dati Personali</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var p in Model)
            {
                <tr>
                    <td>@p.CF</td>
                    <td>@p.Nome</td>
                    <td>@p.Cognome</td>
                    <td>@p.DataNascita.ToString("dd/MM/yyyy")</td>
                    <td>@p.DataRicovero.ToString("dd/MM/yyyy")</td>
                    <td>@p.MotivoRicovero</td>
                    <td>
                        <a asp-action="ModificaDatiMedici" asp-controller="Pazienti" asp-route-id="@p.ID" class="btn btn-success btn-lg">
                            Modifica dati Medici
                        </a>
                    </td>
                    <td>
                        <a asp-action="ModificaDatiPersonali" asp-controller="Pazienti" asp-route-id="@p.ID" class="btn btn-success btn-lg">
                            Modifica dati personali
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <div class="alert alert-info mt-4">
        Nessun paziente da ricoverare per oggi.
    </div>
}
