@model ProvaMVC.Models.Paziente
@{
    ViewData["Title"] = "Modifica Dati Medici";
}

<h2>Modifica Dati Medici</h2>

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}
@if (TempData["Success"] != null)
{
    <div class="alert alert-success">@TempData["Success"]</div>
}

<form asp-action="InviaModificaDatiMedici" method="post">
    <input type="hidden" name="IDPaziente" value="@Model.ID" />

    <div class="form-group">
        <label for="DataRicovero">Data Ricovero</label>
        <input type="date" name="DataRicovero" class="form-control"
               value="@Model.DataRicovero.ToString("yyyy-MM-dd")" />
    </div>

    <div class="form-group">
        <label for="DataDimissione">Data Dimissione</label>
        <input type="date" name="DataDimissione" class="form-control"
               value="@(Model.DataDimissione?.ToString("yyyy-MM-dd") ?? "")" />
    </div>

    <div class="form-group">
        <label for="MotivoRicovero">Motivo Ricovero</label>
        <input type="text" name="MotivoRicovero" class="form-control" value="@Model.MotivoRicovero" />
    </div>

    <div class="form-group">
        <label for="Patologie">Patologie</label>
        <input type="text" name="Patologie" class="form-control" value="@Model.Patologie" />
    </div>

    <div class="form-group">
        <label for="Allergie">Allergie</label>
        <input type="text" name="Allergie" class="form-control" value="@Model.Allergie" />
    </div>

    <div class="form-group">
        <label for="AltreNote">Altre Note</label>
        <textarea name="AltreNote" class="form-control">@Model.AltreNote</textarea>
    </div>

    <button type="submit" class="btn btn-primary mt-3">Conferma Modifica</button>
</form>
